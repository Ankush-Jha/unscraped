<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReLoop - Welcome</title>
    <meta name="description"
        content="Welcome to ReLoop - Turn waste into value with AI-powered identification, trading, and sustainable living.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Epilogue:ital,wght@0,100..900;1,100..900&family=Manrope:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="../../css/styles.css">

    <style>
        /* Onboarding Specific Styles */
        :root {
            --accent-yellow: #FFD54F;
            --accent-purple: #BA68C8;
            --accent-blue: #4FC3F7;
            --accent-red: #EF5350;
        }

        .onboarding-wrapper {
            min-height: 100dvh;
            position: relative;
            overflow: hidden;
        }

        .onboarding-header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-6);
            z-index: 20;
        }

        .skip-btn {
            font-size: var(--text-sm);
            font-weight: 700;
            color: rgba(255, 255, 255, 0.4);
            text-transform: uppercase;
            letter-spacing: 0.15em;
            background: none;
            border: none;
            cursor: pointer;
            transition: color var(--transition-base);
        }

        .skip-btn:hover {
            color: #fff;
        }

        /* Slides Container */
        .slides-container {
            position: relative;
            width: 100%;
            height: 100dvh;
            overflow: hidden;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease, visibility 0.5s ease, transform 0.5s ease;
            transform: translateX(30px);
        }

        .slide.active {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
        }

        .slide-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: var(--space-6);
            padding-top: 80px;
            padding-bottom: 180px;
        }

        /* Visual Areas */
        .visual-area {
            width: 100%;
            max-width: 340px;
            position: relative;
            margin-bottom: var(--space-8);
        }

        /* Glow Effects */
        .glow-yellow {
            position: absolute;
            width: 120px;
            height: 120px;
            background: var(--accent-yellow);
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.2;
        }

        .glow-green {
            position: absolute;
            width: 160px;
            height: 160px;
            background: var(--color-primary);
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.2;
        }

        .glow-purple {
            position: absolute;
            width: 100px;
            height: 100px;
            background: var(--accent-purple);
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.15;
        }

        /* Slide 1 - Trade Cards */
        .trade-cards-container {
            position: relative;
            width: 100%;
            aspect-ratio: 4/5;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .trade-card {
            position: absolute;
            width: 58%;
            height: 65%;
            background: var(--color-surface-dark);
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-2xl);
            overflow: hidden;
            box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.5);
            transition: transform 0.7s ease;
        }

        .trade-card:hover {
            transform: scale(1.05) !important;
            z-index: 30 !important;
        }

        .trade-card.left {
            left: 0;
            top: 15%;
            transform: rotate(-3deg);
            z-index: 20;
        }

        .trade-card.right {
            right: 0;
            bottom: 15%;
            transform: rotate(3deg);
            z-index: 10;
        }

        .trade-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.9;
        }

        .trade-card.right img {
            opacity: 0.8;
            mix-blend-mode: luminosity;
        }

        .trade-card.right:hover img {
            mix-blend-mode: normal;
        }

        .card-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.1);
        }

        .scan-frame {
            position: absolute;
            inset: 16px;
            border: 2px solid rgba(255, 255, 255, 0.4);
            border-radius: var(--radius-xl);
            opacity: 0.8;
            pointer-events: none;
        }

        .scan-frame::before,
        .scan-frame::after,
        .scan-frame .corner-bl,
        .scan-frame .corner-br {
            position: absolute;
            width: 16px;
            height: 16px;
            border-color: var(--color-primary);
        }

        .scan-frame::before {
            content: '';
            top: -2px;
            left: -2px;
            border-top: 3px solid var(--color-primary);
            border-left: 3px solid var(--color-primary);
        }

        .scan-frame::after {
            content: '';
            top: -2px;
            right: -2px;
            border-top: 3px solid var(--color-primary);
            border-right: 3px solid var(--color-primary);
        }

        .scan-frame .corner-bl {
            position: absolute;
            bottom: -2px;
            left: -2px;
            border-bottom: 3px solid var(--color-primary);
            border-left: 3px solid var(--color-primary);
        }

        .scan-frame .corner-br {
            position: absolute;
            bottom: -2px;
            right: -2px;
            border-bottom: 3px solid var(--color-primary);
            border-right: 3px solid var(--color-primary);
        }

        .scan-line {
            position: absolute;
            top: 40%;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--color-primary);
            box-shadow: 0 0 15px 3px rgba(34, 195, 88, 0.9);
            z-index: 10;
            animation: pulse 2s infinite;
        }

        .ai-badge {
            position: absolute;
            top: 28px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(34, 195, 88, 0.4);
            padding: 6px 12px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
        }

        .ai-badge .icon {
            font-size: 14px;
            color: var(--color-primary);
            animation: spin 3s linear infinite;
        }

        .ai-badge span:last-child {
            font-size: 10px;
            font-weight: 700;
            letter-spacing: 0.15em;
            text-transform: uppercase;
        }

        .detected-badge {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 16px;
            background: linear-gradient(to top, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0.8), transparent);
            padding-top: 32px;
        }

        .detected-indicator {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 4px;
        }

        .detected-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--color-primary);
            animation: pulse 1.5s infinite;
        }

        .detected-indicator span {
            font-size: 10px;
            font-weight: 700;
            color: var(--color-primary);
            letter-spacing: 0.1em;
        }

        .detected-badge p {
            font-size: var(--text-sm);
            font-weight: 700;
        }

        .arrow-connector {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 30;
            width: 56px;
            height: 56px;
            background: var(--color-bg-dark);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 4px solid var(--color-surface-dark);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
        }

        .arrow-connector .icon {
            font-size: 24px;
        }

        .complete-badge {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-12deg);
            z-index: 20;
            background: var(--color-primary);
            color: #000;
            font-weight: 900;
            font-size: 12px;
            padding: 10px 16px;
            border-radius: var(--radius-lg);
            border: 2px solid var(--color-bg-dark);
            box-shadow: 4px 4px 0 0 rgba(20, 20, 20, 1);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .inventory-badge {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 16px;
            background: linear-gradient(to top, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0.8), transparent);
            text-align: right;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .inventory-pill {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(8px);
            font-size: 10px;
            font-weight: 700;
            padding: 4px 8px;
            border-radius: var(--radius-full);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 4px;
        }

        /* Floating Icons */
        .floating-icon {
            position: absolute;
            color: rgba(255, 255, 255, 0.2);
            font-size: 36px;
            animation: bounce 3s ease-in-out infinite;
        }

        .floating-icon.top-right {
            top: 10%;
            right: 10%;
            transform: rotate(12deg);
        }

        .floating-icon.bottom-left {
            bottom: 10%;
            left: 10%;
            transform: rotate(-12deg);
            animation-delay: 1s;
        }

        /* Slide 2 - Scanner */
        .scanner-container {
            width: 100%;
            aspect-ratio: 4/3;
            background: var(--color-surface-dark);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-2xl);
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }

        .scanner-grid {
            position: absolute;
            inset: 0;
            opacity: 0.07;
            background-image: linear-gradient(var(--color-primary) 1px, transparent 1px),
                linear-gradient(90deg, var(--color-primary) 1px, transparent 1px);
            background-size: 40px 40px;
        }

        .scanner-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 160px;
            height: 160px;
            background: var(--color-primary);
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.2;
        }

        .scanner-corners div {
            position: absolute;
            width: 32px;
            height: 32px;
            border-color: var(--color-primary);
            box-shadow: 0 0 10px rgba(34, 195, 88, 0.5);
        }

        .scanner-corners .tl {
            top: 16px;
            left: 16px;
            border-top: 4px solid var(--color-primary);
            border-left: 4px solid var(--color-primary);
            border-radius: 8px 0 0 0;
        }

        .scanner-corners .tr {
            top: 16px;
            right: 16px;
            border-top: 4px solid var(--color-primary);
            border-right: 4px solid var(--color-primary);
            border-radius: 0 8px 0 0;
        }

        .scanner-corners .bl {
            bottom: 16px;
            left: 16px;
            border-bottom: 4px solid var(--color-primary);
            border-left: 4px solid var(--color-primary);
            border-radius: 0 0 0 8px;
        }

        .scanner-corners .br {
            bottom: 16px;
            right: 16px;
            border-bottom: 4px solid var(--color-primary);
            border-right: 4px solid var(--color-primary);
            border-radius: 0 0 8px 0;
        }

        .scanner-object {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .scanner-object .icon {
            font-size: 7rem;
            opacity: 0.9;
            filter: drop-shadow(0 8px 24px rgba(0, 0, 0, 0.4));
        }

        .scanner-beam {
            position: absolute;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--color-primary);
            box-shadow: 0 0 25px 6px rgba(34, 195, 88, 0.9);
            z-index: 20;
            animation: scan 3s ease-in-out infinite;
        }

        .scanner-beam::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 48px;
            background: linear-gradient(to top, rgba(34, 195, 88, 0.3), transparent);
            top: -48px;
        }

        .scanner-beam::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 48px;
            background: linear-gradient(to bottom, rgba(34, 195, 88, 0.3), transparent);
            top: 4px;
        }

        @keyframes scan {

            0%,
            100% {
                top: 10%;
                opacity: 0.8;
            }

            50% {
                top: 80%;
                opacity: 1;
            }
        }

        .scanner-result {
            position: absolute;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 30;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(34, 195, 88, 0.6);
            padding: 8px 16px;
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 0 20px rgba(34, 195, 88, 0.4);
        }

        .scanner-result .icon {
            font-size: 16px;
            color: var(--color-primary);
            animation: pulse 2s infinite;
        }

        .scanner-result-text {
            display: flex;
            flex-direction: column;
        }

        .scanner-result-confidence {
            font-size: 9px;
            font-weight: 700;
            color: rgba(255, 255, 255, 0.5);
            letter-spacing: 0.15em;
            text-transform: uppercase;
        }

        .scanner-result-item {
            font-size: 12px;
            font-weight: 900;
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }

        /* DIY Ideas */
        .diy-section {
            width: 100%;
            margin-top: var(--space-6);
        }

        .diy-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: var(--space-3);
            padding-left: 4px;
        }

        .diy-header .icon {
            font-size: 16px;
            color: var(--accent-yellow);
        }

        .diy-header span {
            font-size: 12px;
            font-weight: 700;
            color: rgba(255, 255, 255, 0.6);
            letter-spacing: 0.2em;
            text-transform: uppercase;
        }

        .diy-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-3);
        }

        .diy-card {
            background: var(--color-surface-dark);
            border: 1px solid rgba(255, 255, 255, 0.05);
            padding: var(--space-3);
            border-radius: var(--radius-xl);
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
            cursor: pointer;
            transition: all var(--transition-base);
            position: relative;
            overflow: hidden;
        }

        .diy-card:hover {
            border-color: rgba(239, 83, 80, 0.5);
            background: rgba(255, 255, 255, 0.05);
        }

        .diy-card-bg-icon {
            position: absolute;
            top: 0;
            right: 0;
            padding: 8px;
            opacity: 0.1;
            transition: opacity var(--transition-base);
        }

        .diy-card:hover .diy-card-bg-icon {
            opacity: 0.2;
        }

        .diy-card-bg-icon .icon {
            font-size: 36px;
        }

        .diy-card-source {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .diy-card-source-icon {
            width: 24px;
            height: 24px;
            background: rgba(239, 83, 80, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .diy-card-source-icon .icon {
            font-size: 14px;
            color: var(--accent-red);
        }

        .diy-card-source span {
            font-size: 10px;
            font-weight: 700;
            color: rgba(255, 255, 255, 0.4);
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }

        .diy-card-title {
            font-size: var(--text-sm);
            font-weight: 700;
            margin-bottom: 4px;
        }

        .diy-card-meta {
            font-size: 10px;
            color: rgba(255, 255, 255, 0.5);
        }

        /* Slide 3 - Ecosystem */
        .ecosystem-container {
            width: 100%;
            max-width: 340px;
            aspect-ratio: 1;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ecosystem-arrows {
            position: absolute;
            inset: 0;
            pointer-events: none;
            animation: pulse 3s ease-in-out infinite;
        }

        .ecosystem-node {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
        }

        .ecosystem-node.top {
            top: 16px;
            left: 50%;
            transform: translateX(-50%);
        }

        .ecosystem-node.right {
            bottom: 64px;
            right: 16px;
        }

        .ecosystem-node.left {
            bottom: 64px;
            left: 16px;
        }

        .node-circle {
            width: 80px;
            height: 80px;
            background: var(--color-surface-dark);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.5s ease;
        }

        .ecosystem-node:hover .node-circle {
            transform: scale(1.1);
        }

        .node-circle.purple {
            box-shadow: 0 0 30px -5px rgba(186, 104, 200, 0.3);
        }

        .node-circle.yellow {
            box-shadow: 0 0 30px -5px rgba(255, 213, 79, 0.3);
        }

        .node-circle.green {
            box-shadow: 0 0 30px -5px rgba(34, 195, 88, 0.3);
        }

        .node-circle .icon {
            font-size: 36px;
        }

        .node-circle.purple .icon {
            color: var(--accent-purple);
        }

        .node-circle.yellow .icon {
            color: var(--accent-yellow);
        }

        .node-circle.green .icon {
            color: var(--color-primary);
        }

        .node-label {
            margin-top: var(--space-3);
            background: rgba(38, 38, 38, 0.8);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            padding: 4px 12px;
            border-radius: var(--radius-full);
        }

        .node-label span {
            font-size: 12px;
            font-weight: 900;
            letter-spacing: 0.15em;
        }

        .node-label.purple span {
            color: var(--accent-purple);
        }

        .node-label.yellow span {
            color: var(--accent-yellow);
        }

        .node-label.green span {
            color: var(--color-primary);
        }

        .ecosystem-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0.2;
            animation: pulse 2s ease-in-out infinite;
        }

        .ecosystem-center .icon {
            font-size: 60px;
        }

        /* Text Content */
        .text-content {
            width: 100%;
            text-align: center;
            position: relative;
            z-index: 20;
        }

        .slide-headline {
            font-size: clamp(2.5rem, 11vw, 3.5rem);
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: -0.03em;
            line-height: 0.9;
            margin-bottom: var(--space-4);
        }

        .slide-headline .highlight {
            color: var(--color-primary);
            display: block;
        }

        .slide-headline.all-green {
            color: var(--color-primary);
        }

        .slide-description {
            font-size: var(--text-lg);
            color: rgba(255, 255, 255, 0.6);
            font-family: var(--font-body);
            line-height: 1.6;
            max-width: 320px;
            margin: 0 auto;
            padding: 0 var(--space-4);
        }

        /* Bottom Navigation */
        .onboarding-footer {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: var(--space-6);
            padding-bottom: calc(var(--space-10) + env(safe-area-inset-bottom));
            z-index: 30;
            background: linear-gradient(to top, var(--color-bg-dark), rgba(0, 0, 0, 0.95) 60%, transparent);
            padding-top: 80px;
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            gap: var(--space-6);
            align-items: center;
        }

        .dots-indicator {
            display: flex;
            gap: 8px;
        }

        .dot {
            width: 8px;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: var(--radius-full);
            transition: all var(--transition-base);
        }

        .dot.active {
            width: 32px;
            background: var(--color-primary);
            box-shadow: 0 0 10px rgba(34, 195, 88, 0.5);
        }

        .next-btn {
            width: 100%;
            height: 64px;
            background: var(--color-primary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-2xl);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-family: var(--font-display);
            font-size: var(--text-lg);
            font-weight: 900;
            color: #000;
            cursor: pointer;
            transition: all var(--transition-base);
            box-shadow: 0 0 20px -5px rgba(34, 195, 88, 0.4);
        }

        .next-btn:hover {
            background: var(--color-primary-hover);
        }

        .next-btn:active {
            transform: scale(0.98);
        }

        .next-btn .icon {
            font-size: 24px;
            font-weight: 700;
            transition: transform var(--transition-base);
        }

        .next-btn:hover .icon {
            transform: translateX(4px);
        }

        /* Animations */
        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.6;
            }
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0) rotate(inherit);
            }

            50% {
                transform: translateY(-12px) rotate(inherit);
            }
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        /* Auth Slide Styles */
        .auth-container {
            width: 100%;
            max-width: 360px;
            padding: 0 var(--space-4);
        }

        .auth-tabs {
            display: flex;
            gap: var(--space-2);
            margin-bottom: var(--space-6);
            background: var(--color-surface-dark);
            border-radius: var(--radius-full);
            padding: 4px;
        }

        .auth-tab {
            flex: 1;
            padding: var(--space-3);
            border: none;
            background: transparent;
            border-radius: var(--radius-full);
            font-family: var(--font-display);
            font-size: var(--text-sm);
            font-weight: 700;
            color: var(--color-text-secondary);
            cursor: pointer;
            transition: all var(--transition-base);
        }

        .auth-tab.active {
            background: var(--color-primary);
            color: #000;
        }

        .auth-form {
            display: flex;
            flex-direction: column;
            gap: var(--space-4);
        }

        .auth-form.hidden {
            display: none;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .form-label {
            font-size: var(--text-sm);
            font-weight: 600;
            color: var(--color-text-secondary);
        }

        .form-input-auth {
            width: 100%;
            padding: var(--space-4);
            background: var(--color-surface-dark);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-xl);
            font-family: var(--font-body);
            font-size: var(--text-base);
            color: var(--color-text-primary);
            transition: all var(--transition-base);
        }

        .form-input-auth:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(34, 195, 88, 0.2);
        }

        .form-input-auth::placeholder {
            color: var(--color-text-muted);
        }

        .campus-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%2322c358' viewBox='0 0 24 24'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 24px;
            padding-right: 44px;
        }

        .auth-error {
            padding: var(--space-3);
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: var(--radius-lg);
            color: var(--color-error);
            font-size: var(--text-sm);
            display: none;
        }

        .auth-error.show {
            display: block;
        }

        .auth-divider {
            display: flex;
            align-items: center;
            gap: var(--space-4);
            margin: var(--space-4) 0;
        }

        .auth-divider span {
            font-size: var(--text-sm);
            color: var(--color-text-muted);
        }

        .auth-divider::before,
        .auth-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--color-border);
        }

        .auth-loading {
            display: none;
            align-items: center;
            justify-content: center;
            gap: var(--space-3);
        }

        .auth-loading.show {
            display: flex;
        }

        .auth-loading .spinner {
            width: 24px;
            height: 24px;
            border: 3px solid var(--color-surface-dark);
            border-top-color: var(--color-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        /* Icon filled style */
        .icon-filled {
            font-variation-settings: 'FILL' 1;
        }
    </style>
</head>

<body>
    <div class="app-container">
        <div class="onboarding-wrapper">
            <!-- Header -->
            <header class="onboarding-header">
                <div style="width: 32px;"></div>
                <button class="skip-btn" onclick="skipOnboarding()">Skip</button>
            </header>

            <!-- Slides Container -->
            <div class="slides-container">
                <!-- Slide 1: Turn Waste Into Resources -->
                <div class="slide active" id="slide-1">
                    <div class="slide-content">
                        <div class="visual-area">
                            <!-- Glows -->
                            <div class="glow-yellow" style="top: 40px; left: 16px;"></div>
                            <div class="glow-green" style="bottom: 80px; right: 16px;"></div>

                            <div class="trade-cards-container">
                                <!-- Left Card (Scanning) -->
                                <div class="trade-card left">
                                    <img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=400&h=500&fit=crop"
                                        alt="Coffee mug being scanned">
                                    <div class="card-overlay"></div>
                                    <div class="scan-frame">
                                        <div class="corner-bl"></div>
                                        <div class="corner-br"></div>
                                    </div>
                                    <div class="scan-line"></div>
                                    <div class="ai-badge">
                                        <span class="material-symbols-outlined icon">view_in_ar</span>
                                        <span>AI Identify</span>
                                    </div>
                                    <div class="detected-badge">
                                        <div class="detected-indicator">
                                            <div class="detected-dot"></div>
                                            <span>DETECTED</span>
                                        </div>
                                        <p>Coffee Mug</p>
                                    </div>
                                </div>

                                <!-- Arrow Connector -->
                                <div class="arrow-connector">
                                    <span class="material-symbols-outlined icon">arrow_forward</span>
                                </div>

                                <!-- Right Card (Trade Complete) -->
                                <div class="trade-card right">
                                    <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=400&h=500&fit=crop"
                                        alt="Student receiving item">
                                    <div class="card-overlay"
                                        style="background: rgba(34, 195, 88, 0.2); mix-blend-mode: overlay;"></div>
                                    <div class="complete-badge">
                                        <span class="material-symbols-outlined icon icon-filled">check_circle</span>
                                        TRADE COMPLETE
                                    </div>
                                    <div class="inventory-badge">
                                        <span class="inventory-pill">INVENTORY +1</span>
                                        <p>Coffee Mug</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Floating Icons -->
                            <span class="material-symbols-outlined floating-icon top-right">recycling</span>
                            <span class="material-symbols-outlined floating-icon bottom-left">eco</span>
                        </div>

                        <div class="text-content">
                            <h1 class="slide-headline">
                                Turn Waste<br>
                                <span class="highlight">Into Resources</span>
                            </h1>
                            <p class="slide-description">
                                Connect with students on campus to trade items you don't need for things you do.
                                Sustainable, free, and local.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Slide 2: Snap to Identify -->
                <div class="slide" id="slide-2">
                    <div class="slide-content">
                        <div class="text-content" style="margin-bottom: var(--space-6);">
                            <h1 class="slide-headline all-green" style="font-style: italic;">
                                Snap to<br>Identify
                            </h1>
                        </div>

                        <div class="visual-area">
                            <div class="scanner-container">
                                <div class="scanner-grid"></div>
                                <div class="scanner-glow"></div>

                                <div class="scanner-corners">
                                    <div class="tl"></div>
                                    <div class="tr"></div>
                                    <div class="bl"></div>
                                    <div class="br"></div>
                                </div>

                                <div class="scanner-object">
                                    <span class="material-symbols-outlined icon">filter_vintage</span>
                                </div>

                                <div class="scanner-beam"></div>

                                <div class="scanner-result">
                                    <span class="material-symbols-outlined icon icon-filled">check_circle</span>
                                    <div class="scanner-result-text">
                                        <span class="scanner-result-confidence">Confidence: 98%</span>
                                        <span class="scanner-result-item">Identified: Ceramic Vase</span>
                                    </div>
                                </div>
                            </div>

                            <div class="diy-section fade-in" style="animation-delay: 0.3s;">
                                <div class="diy-header">
                                    <span class="material-symbols-outlined icon">lightbulb</span>
                                    <span>DIY Reuse Ideas</span>
                                </div>
                                <div class="diy-grid">
                                    <div class="diy-card">
                                        <div class="diy-card-bg-icon">
                                            <span class="material-symbols-outlined icon">play_circle</span>
                                        </div>
                                        <div class="diy-card-source">
                                            <div class="diy-card-source-icon">
                                                <span class="material-symbols-outlined icon">play_arrow</span>
                                            </div>
                                            <span>YouTube</span>
                                        </div>
                                        <div>
                                            <p class="diy-card-title">Turn into Lamp</p>
                                            <p class="diy-card-meta">Easy â€¢ 15 min</p>
                                        </div>
                                    </div>
                                    <div class="diy-card">
                                        <div class="diy-card-bg-icon">
                                            <span class="material-symbols-outlined icon">image</span>
                                        </div>
                                        <div class="diy-card-source">
                                            <div class="diy-card-source-icon">
                                                <span class="material-symbols-outlined icon">push_pin</span>
                                            </div>
                                            <span>Pinterest</span>
                                        </div>
                                        <div>
                                            <p class="diy-card-title">Painted Decor</p>
                                            <p class="diy-card-meta">Inspiration</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 3: Join The Eco-Loop -->
                <div class="slide" id="slide-3">
                    <div class="slide-content">
                        <div class="visual-area" style="margin-bottom: var(--space-8);">
                            <!-- Glows -->
                            <div class="glow-green" style="top: 40px; left: 50%; transform: translateX(-50%);"></div>
                            <div class="glow-yellow" style="bottom: 40px; right: 40px;"></div>
                            <div class="glow-purple" style="bottom: 40px; left: 40px;"></div>

                            <div class="ecosystem-container">
                                <!-- Arrows SVG -->
                                <svg class="ecosystem-arrows" viewBox="0 0 340 340" fill="none">
                                    <defs>
                                        <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="7" refY="3"
                                            orient="auto">
                                            <polygon points="0 0, 8 3, 0 6" fill="#22c358" />
                                        </marker>
                                    </defs>
                                    <path d="M190 70 C 240 80, 260 120, 260 160" stroke="#22c358" stroke-width="2"
                                        stroke-dasharray="4 4" marker-end="url(#arrowhead)" />
                                    <path d="M240 230 C 200 260, 140 260, 100 230" stroke="#22c358" stroke-width="2"
                                        stroke-dasharray="4 4" marker-end="url(#arrowhead)" />
                                    <path d="M80 160 C 80 120, 100 80, 150 70" stroke="#22c358" stroke-width="2"
                                        stroke-dasharray="4 4" marker-end="url(#arrowhead)" />
                                </svg>

                                <!-- Reuse Node -->
                                <div class="ecosystem-node top">
                                    <div class="node-circle purple">
                                        <span class="material-symbols-outlined icon">palette</span>
                                    </div>
                                    <div class="node-label purple">
                                        <span>REUSE</span>
                                    </div>
                                </div>

                                <!-- Trade Node -->
                                <div class="ecosystem-node right">
                                    <div class="node-circle yellow">
                                        <span class="material-symbols-outlined icon">handshake</span>
                                    </div>
                                    <div class="node-label yellow">
                                        <span>TRADE</span>
                                    </div>
                                </div>

                                <!-- Impact Node -->
                                <div class="ecosystem-node left">
                                    <div class="node-circle green">
                                        <span class="material-symbols-outlined icon">public</span>
                                    </div>
                                    <div class="node-label green">
                                        <span>IMPACT</span>
                                    </div>
                                </div>

                                <!-- Center Icon -->
                                <div class="ecosystem-center">
                                    <span class="material-symbols-outlined icon">recycling</span>
                                </div>
                            </div>
                        </div>

                        <div class="text-content">
                            <h1 class="slide-headline all-green">
                                Join The<br>Eco-Loop
                            </h1>
                            <p class="slide-description">
                                Turn your campus trash into treasure, earn coins, and track your CO2 savings.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 4: Sign Up / Login -->
            <div class="slide" id="slide-4">
                <div class="slide-content">
                    <div class="text-content" style="margin-bottom: var(--space-6);">
                        <h1 class="slide-headline all-green" style="font-size: 2rem;">
                            Almost There!
                        </h1>
                        <p class="slide-description">
                            Create your account to start trading and saving the planet.
                        </p>
                    </div>

                    <div class="auth-container">
                        <!-- Auth Tabs -->
                        <div class="auth-tabs">
                            <button class="auth-tab active" onclick="switchAuthTab('signup')">Sign Up</button>
                            <button class="auth-tab" onclick="switchAuthTab('login')">Login</button>
                        </div>

                        <!-- Error Message -->
                        <div id="auth-error" class="auth-error"></div>

                        <!-- Loading State -->
                        <div id="auth-loading" class="auth-loading">
                            <div class="spinner"></div>
                            <span style="color: var(--color-text-secondary);">Creating your account...</span>
                        </div>

                        <!-- Sign Up Form (Single Campus - Hardcoded) -->
                        <form id="signup-form" class="auth-form" onsubmit="handleSignUp(event)">
                            <div class="form-group">
                                <label class="form-label">Name</label>
                                <input type="text" id="signup-name" class="form-input-auth" placeholder="Your name"
                                    required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Email</label>
                                <input type="email" id="signup-email" class="form-input-auth"
                                    placeholder="your@email.edu" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Password</label>
                                <input type="password" id="signup-password" class="form-input-auth"
                                    placeholder="Min 6 characters" minlength="6" required>
                            </div>
                        </form>

                        <!-- Login Form -->
                        <form id="login-form" class="auth-form hidden" onsubmit="handleLogin(event)">
                            <div class="form-group">
                                <label class="form-label">Email</label>
                                <input type="email" id="login-email" class="form-input-auth"
                                    placeholder="your@email.edu" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Password</label>
                                <input type="password" id="login-password" class="form-input-auth"
                                    placeholder="Your password" required>
                            </div>

                            <div style="text-align: center; margin-top: 10px;">
                                <span style="font-size: 11px; color: rgba(255,255,255,0.4);">OR</span>
                            </div>

                            <button type="button" onclick="handleDemoLogin()" style="
                                background: rgba(34, 195, 88, 0.1); 
                                border: 1px solid var(--color-primary); 
                                color: var(--color-primary);
                                padding: 12px;
                                border-radius: var(--radius-xl);
                                font-weight: 700;
                                cursor: pointer;
                                margin-top: 10px;
                            ">
                                Use Demo Account
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="onboarding-footer">
            <div class="footer-content">
                <div class="dots-indicator">
                    <div class="dot active" data-slide="1"></div>
                    <div class="dot" data-slide="2"></div>
                    <div class="dot" data-slide="3"></div>
                    <div class="dot" data-slide="4"></div>
                </div>
                <button class="next-btn" id="next-btn" onclick="nextSlide()">
                    <span id="btn-text">NEXT</span>
                    <span class="material-symbols-outlined icon" id="btn-icon">arrow_forward</span>
                </button>
            </div>
        </div>
    </div>
    </div>

    <!-- Noise Overlay -->
    <div class="noise-overlay"></div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="../../js/firebase-config.js"></script>
    <script src="../../js/services/auth.js"></script>

    <script>
        let currentSlide = 1;
        const totalSlides = 4;
        let currentAuthMode = 'signup';

        // Handle Demo Login
        async function handleDemoLogin() {
            setAuthLoading(true);
            const demoEmail = 'demobuyer@reloop.app';
            const demoPass = 'demobuyer123';

            // Try login first
            let result = await AuthService.signIn(demoEmail, demoPass);

            if (result.success) {
                console.log('Demo login success');
                window.location.href = 'home.html';
            } else {
                console.log('Demo login failed, trying signup...', result.error);
                // If login fails (user doesn't exist), try sign up
                result = await AuthService.signUp(demoEmail, demoPass, 'Demo User', 'ReLoop Campus');

                if (result.success) {
                    console.log('Demo signup success');
                    // Seed this new demo user with impressive MVP stats
                    await db.collection('users').doc(result.user.uid).update({
                        coins: 850,
                        itemsTraded: 12,
                        co2Saved: 24.5,
                        level: 8,
                        xp: 2450,
                        badges: ['newcomer', 'early-adopter', 'sustainability-pioneer'],
                        campus: 'ReLoop Campus',
                        bio: 'Passionate about upcycling and reducing campus waste! â™»ï¸'
                    });
                    window.location.href = 'home.html';
                } else {
                    setAuthLoading(false);
                    showAuthError('Demo login failed. Please try manual signup. ' + result.error);
                }
            }
        }

        function updateSlide() {
            // Update slides
            document.querySelectorAll('.slide').forEach((slide, index) => {
                slide.classList.remove('active');
                if (index + 1 === currentSlide) {
                    slide.classList.add('active');
                }
            });

            // Update dots
            document.querySelectorAll('.dot').forEach((dot, index) => {
                dot.classList.remove('active');
                if (index + 1 === currentSlide) {
                    dot.classList.add('active');
                }
            });

            // Update button
            const btnText = document.getElementById('btn-text');
            const btnIcon = document.getElementById('btn-icon');

            if (currentSlide === totalSlides) {
                btnText.textContent = currentAuthMode === 'signup' ? 'SIGN UP' : 'LOGIN';
                btnIcon.textContent = 'login';
            } else if (currentSlide === totalSlides - 1) {
                btnText.textContent = 'GET STARTED';
                btnIcon.textContent = 'rocket_launch';
            } else {
                btnText.textContent = 'NEXT';
                btnIcon.textContent = 'arrow_forward';
            }
        }

        function nextSlide() {
            if (currentSlide < totalSlides) {
                currentSlide++;
                updateSlide();
            } else {
                // On auth slide - submit the form
                if (currentAuthMode === 'signup') {
                    document.getElementById('signup-form').requestSubmit();
                } else {
                    document.getElementById('login-form').requestSubmit();
                }
            }
        }

        function skipOnboarding() {
            // Check if user is already logged in
            if (typeof auth !== 'undefined' && auth.currentUser) {
                window.location.href = 'home.html';
            } else {
                // Skip to auth slide
                currentSlide = totalSlides;
                updateSlide();
            }
        }

        // Auth tab switching
        function switchAuthTab(mode) {
            currentAuthMode = mode;
            document.querySelectorAll('.auth-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelector(`.auth-tab:${mode === 'signup' ? 'first-child' : 'last-child'}`).classList.add('active');

            document.getElementById('signup-form').classList.toggle('hidden', mode !== 'signup');
            document.getElementById('login-form').classList.toggle('hidden', mode !== 'login');
            document.getElementById('auth-error').classList.remove('show');

            updateSlide();
        }

        // Show error
        function showAuthError(message) {
            const errorEl = document.getElementById('auth-error');
            errorEl.textContent = message;
            errorEl.classList.add('show');
        }

        // Show/hide loading
        function setAuthLoading(loading) {
            const loadingEl = document.getElementById('auth-loading');
            const forms = document.querySelectorAll('.auth-form');

            if (loading) {
                loadingEl.classList.add('show');
                forms.forEach(f => f.style.display = 'none');
            } else {
                loadingEl.classList.remove('show');
                document.getElementById(currentAuthMode + '-form').style.display = 'flex';
            }
        }

        // Handle Sign Up
        async function handleSignUp(event) {
            event.preventDefault();

            const name = document.getElementById('signup-name').value.trim();
            const email = document.getElementById('signup-email').value.trim();
            const password = document.getElementById('signup-password').value;
            const campus = 'ReLoop Campus'; // Hardcoded for single-campus MVP

            if (!name || !email || !password) {
                showAuthError('Please fill in all fields');
                return;
            }

            setAuthLoading(true);
            document.getElementById('auth-error').classList.remove('show');

            const result = await AuthService.signUp(email, password, name, campus);

            if (result.success) {
                window.location.href = 'home.html';
            } else {
                setAuthLoading(false);
                showAuthError(result.error || 'Sign up failed. Please try again.');
            }
        }

        // Handle Login
        async function handleLogin(event) {
            event.preventDefault();

            const email = document.getElementById('login-email').value.trim();
            const password = document.getElementById('login-password').value;

            if (!email || !password) {
                showAuthError('Please fill in all fields');
                return;
            }

            setAuthLoading(true);
            document.getElementById('auth-error').classList.remove('show');

            const result = await AuthService.signIn(email, password);

            if (result.success) {
                window.location.href = 'home.html';
            } else {
                setAuthLoading(false);
                showAuthError(result.error || 'Login failed. Check your credentials.');
            }
        }

        // Check if already logged in on page load
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof auth !== 'undefined') {
                auth.onAuthStateChanged((user) => {
                    if (user) {
                        window.location.href = 'home.html';
                    }
                });
            }
        });

        // Allow clicking on dots to navigate
        document.querySelectorAll('.dot').forEach(dot => {
            dot.addEventListener('click', () => {
                currentSlide = parseInt(dot.dataset.slide);
                updateSlide();
            });
        });

        // Touch swipe support
        let touchStartX = 0;
        let touchEndX = 0;

        document.querySelector('.slides-container').addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });

        document.querySelector('.slides-container').addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }, { passive: true });

        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;

            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0 && currentSlide < totalSlides) {
                    // Swipe left - next slide
                    currentSlide++;
                    updateSlide();
                } else if (diff < 0 && currentSlide > 1) {
                    // Swipe right - previous slide
                    currentSlide--;
                    updateSlide();
                }
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', e => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                nextSlide();
            } else if (e.key === 'ArrowLeft' && currentSlide > 1) {
                currentSlide--;
                updateSlide();
            } else if (e.key === 'Escape') {
                skipOnboarding();
            }
        });
    </script>
</body>

</html>